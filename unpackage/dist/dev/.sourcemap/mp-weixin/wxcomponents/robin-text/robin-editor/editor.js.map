{"version":3,"sources":["webpack:////Users/mac/Documents/code/burukeyou-web/burukeyou-mobile/wxcomponents/robin-text/robin-editor/editor.vue?1555","webpack:////Users/mac/Documents/code/burukeyou-web/burukeyou-mobile/wxcomponents/robin-text/robin-editor/editor.vue?ac4d","webpack:////Users/mac/Documents/code/burukeyou-web/burukeyou-mobile/wxcomponents/robin-text/robin-editor/editor.vue?ab99","webpack:////Users/mac/Documents/code/burukeyou-web/burukeyou-mobile/wxcomponents/robin-text/robin-editor/editor.vue?3272","webpack:////Users/mac/Documents/code/burukeyou-web/burukeyou-mobile/wxcomponents/robin-text/robin-editor/editor.vue","webpack:////Users/mac/Documents/code/burukeyou-web/burukeyou-mobile/wxcomponents/robin-text/robin-editor/editor.vue?5a02","webpack:////Users/mac/Documents/code/burukeyou-web/burukeyou-mobile/wxcomponents/robin-text/robin-editor/editor.vue?f131"],"names":["components","colorPicker","uniPopup","topbar","props","html","type","String","imageUploader","Function","muiltImage","Boolean","default","compressImage","previewMode","autoHideToolbar","tools","Array","data","show","readOnly","formats","fontColor","bgColor","color","colorPickerName","showColor","fontSizeRange","showPreview","htmlData","keyboardHeight","editorHeight","isIOS","mounted","platform","uni","getSystemInfoSync","previewData","updatePosition","onKeyboardHeightChange","res","height","duration","setTimeout","pageScrollTo","scrollTop","success","editorCtx","scrollIntoView","computed","labelConfirm","labelCancel","methods","windowHeight","windowWidth","rpx","topbarHeight","toolbarHeight","Math","ceil","length","bodyHeight","openColor","e","name","currentTarget","dataset","$refs","popup","open","colorPop","colorPopClose","close","colorChanged","label","_format","readOnlyChange","onReady","createSelectorQuery","in","select","context","setContents","exec","undo","toast","redo","format","target","value","showToast","icon","title","onStatusChange","detail","insertDivider","clear","removeFormat","insertDate","date","Date","formatDate","getFullYear","getMonth","getDate","insertText","text","insertImage","params","count","sizeType","chooseImage","tempFilePaths","map","path","url","src","alt","fontSize","index","fz","cancel","$emit","save","getContents","replace","preview"],"mappings":"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","file":"wxcomponents/robin-text/robin-editor/editor.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./editor.vue?vue&type=template&id=067fa0f5&scoped=true&\"\nvar renderjs\nimport script from \"./editor.vue?vue&type=script&lang=js&\"\nexport * from \"./editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editor.vue?vue&type=style&index=0&id=067fa0f5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"067fa0f5\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/mac/Documents/code/burukeyou-web/burukeyou-mobile/wxcomponents/robin-text/robin-editor/editor.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editor.vue?vue&type=template&id=067fa0f5&scoped=true&\"","var components = {\n  \"uni-popup\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editor.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport colorPicker from '@/wxcomponents/robin-text/colorPicker.vue'\nimport uniPopup from \"@/wxcomponents/robin-text/uni-popup/uni-popup.vue\"\nimport topbar from './header.vue'\nexport default {\n    components: {\n        colorPicker,\n        uniPopup,\n        topbar\n    },\n    props: {\n        html: {\n            type: String\n        },\n        imageUploader: {\n            type: Function\n        },\n        muiltImage: {\n            type: Boolean,\n            default: false\n        },\n        compressImage: {\n            type: Boolean,\n            default: false\n        },\n        previewMode: {\n            type: Boolean,\n            default: false\n        },\n        autoHideToolbar: {\n            type: Boolean,\n            default: false\n        },\n        tools: {\n            type: Array,\n            default: function() {\n                return ['bold', 'italic', 'underline', 'strike', 'align-left', 'align-center', 'align-right',\n                    'remove', 'font', 'color', 'backgroundColor', 'image', 'clear', 'preview'\n                ]\n            }\n        }\n    },\n    data() {\n        return {\n            show: true,\n            readOnly: false,\n            formats: {},\n            fontColor: \"#000000\",\n            bgColor: \"\",\n            color: \"\",\n            colorPickerName: \"\",\n            showColor: false,\n            fontSizeRange: [10, 12, 14, 16, 18, 24, 32],\n            showPreview: false,\n            htmlData: \"\",\n            keyboardHeight: 0,\n            editorHeight: 0,\n            isIOS: false,\n        }\n    },\n    mounted: function() {\n        const platform = uni.getSystemInfoSync().platform\n        this.isIOS = platform === 'ios'\n        if (this.previewMode) {\n            this.previewData(this.html)\n        }\n        let keyboardHeight = 0\n        this.updatePosition(0)\n        uni.onKeyboardHeightChange(res => {\n            if (res.height === keyboardHeight) return\n            const duration = res.height > 0 ? res.duration * 1000 : 0\n            keyboardHeight = res.height\n            setTimeout(() => {\n                uni.pageScrollTo({\n                    scrollTop: 0,\n                    success: () => {\n                        this.updatePosition(keyboardHeight)\n                        this.editorCtx && this.editorCtx.scrollIntoView()\n                    }\n                })\n            }, duration)\n        })\n    },\n    computed: {\n        labelConfirm: function() {\n            return this.showPreview ? \"关闭\" : \"保存\"\n        },\n        labelCancel: function() {\n            return this.showPreview ? \"\" : \"取消\"\n        }\n    },\n    methods: {\n        updatePosition(keyboardHeight) {\n            const {\n                windowHeight,\n                windowWidth,\n                platform\n            } = uni.getSystemInfoSync()\n            const rpx = windowWidth / 750\n            let topbarHeight = 85 * rpx;\n\n\n\n            const toolbarHeight = (70 * Math.ceil(this.tools.length / 15) + 1) * rpx\n\n            const bodyHeight = windowHeight - topbarHeight\n            this.keyboardHeight = keyboardHeight\n            this.editorHeight = keyboardHeight > 0 ? (bodyHeight - keyboardHeight - toolbarHeight) : (this.autoHideToolbar ?\n                bodyHeight : bodyHeight - toolbarHeight)\n        },\n        openColor(e) {\n            var name = e.currentTarget.dataset.name\n            var color = this.formats[name]\n            this.colorPickerName = name\n            if (name == 'backgroundColor' && !color) {\n                color = \"#FFFFFF\"\n            }\n            if (name == 'color' && !color) {\n                color = \"#000000\"\n            }\n            this.color = color\n            this.$refs.popup.open({\n                type: \"bottom\"\n            })\n        },\n        colorPop(e) {\n            this.showColor = e.show\n        },\n        colorPopClose() {\n            this.$refs.popup.close()\n        },\n        colorChanged(e) {\n            let label = ''\n            switch (this.colorPickerName) {\n                case 'backgroundColor':\n                    if (e.color == '#FFFFFF') {\n                        e.color = ''\n                    }\n                    this.bgColor = e.color\n                    label = '背景色'\n                    break\n                case 'color':\n                    this.fontColor = e.color\n                    label = '颜色'\n                    break\n            }\n            this.colorPopClose()\n            this._format(this.colorPickerName, e.color, label + e.color)\n        },\n        readOnlyChange() {\n            this.readOnly = !this.readOnly\n        },\n        onReady() {\n            uni.createSelectorQuery().in(this).select('#editor').context((res) => {\n                this.editorCtx = res.context\n                if (this.html) {\n                    this.editorCtx.setContents({\n                        html: this.html\n                    })\n                }\n            }).exec()\n        },\n        undo() {\n            this.editorCtx.undo()\n            this.toast(\"撤销\")\n        },\n        redo() {\n            this.editorCtx.redo()\n            this.toast(\"重做\")\n        },\n        format(e) {\n            let {\n                name,\n                value,\n                label\n            } = e.target.dataset\n            if (!name) return\n            this._format(name, value, label)\n        },\n        _format(name, value, label) {\n            this.editorCtx.format(name, value)\n            this.toast(label)\n        },\n        toast(label) {\n            uni.showToast({\n                duration: 600,\n                icon: 'none',\n                title: label\n            })\n        },\n        onStatusChange(e) {\n            const formats = e.detail\n            this.formats = formats\n        },\n        insertDivider() {\n            this.editorCtx.insertDivider({\n                success: function() {\n                    this.toast(\"插入分割线\")\n                }\n            })\n        },\n        clear() {\n            this.editorCtx.clear({\n                success: (res) => {\n                    this.toast(\"清空\")\n                }\n            })\n        },\n        removeFormat() {\n            this.editorCtx.removeFormat()\n            this.toast(\"清除格式\")\n        },\n        insertDate() {\n            const date = new Date()\n            const formatDate = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`\n            this.editorCtx.insertText({\n                text: formatDate\n            })\n            this.toast(\"插入日期\")\n        },\n        insertImage() {\n            let params = {}\n            params.count = this.muiltImage ? 9 : 1\n            params.sizeType = this.compressImage ? ['compressed'] : ['original']\n            uni.chooseImage({\n                ...params,\n                success: (res) => {\n                    res.tempFilePaths.map(path => {\n                        this.imageUploader(path, (url) => {\n                            this.editorCtx.insertImage({\n                                src: url,\n                                alt: '图像'\n                            })\n                        })\n                    })\n                }\n            })\n        },\n        fontSize(e) {\n            const index = e.detail.value\n            const fz = this.fontSizeRange[index] + 'px'\n            this._format('fontSize', fz, '字体大小:' + fz)\n        },\n        cancel() {\n            this.$emit('cancel')\n        },\n        save() {\n            if (this.showPreview) {\n                if (this.previewMode) {\n                    this.cancel()\n                } else {\n                    this.showPreview = false\n                }\n            } else {\n                this.editorCtx.getContents({\n                    success: res => {\n                        this.$emit('save', res)\n                    }\n                })\n            }\n        },\n        previewData: function(html) {\n            this.htmlData = html.replace(/\\<img/gi, '<img style=\"max-width:100%;height:auto\"')\n            this.showPreview = true\n        },\n        preview: function() {\n            this.editorCtx.getContents({\n                success: res => {\n                    this.previewData(res.html)\n                }\n            })\n\n        }\n    }\n}\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editor.vue?vue&type=style&index=0&id=067fa0f5&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editor.vue?vue&type=style&index=0&id=067fa0f5&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1587704434237\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}